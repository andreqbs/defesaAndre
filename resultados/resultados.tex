\mychapter{Resultados e discussão}
\label{Cap_4}

\section{Contextualização  do Problema}

Para a realização desse trabalho, um dos objetivos foi ter um problema onde houvesse um especialista no assunto que pudesse conceber um conjunto inicial de regras para servir de base de aprendizado para a rede neural KBANN. Devido a dificuldade em encontrar um especialista que solucionasse essa condição inicial e essencial do trabalho, a forma encontrada para contornar esse problema foi utilizar um jogo de tabuleiro, devido ao conhecimento sobre suas regras.

O xadrez é um jogo de tabuleiro com 64 casas brancas e pretas intercaladas e com diversas peças que representavam tropas do exército: Peões, Cavalaria, Bispos, Torres, Rainha, e o principal de todos, o Rei. O problema em questão foi tratado da seguinte maneira: dado um tabuleiro 5x4 (Figura \ref{fig:xadrez}) considerando que o Rei (branco) está sempre na posição ($c1$), acompanhado de outras peças (Rainha, Bispo, Cavalo e Torre), tanto da cor oposta ao Rei, como da mesma cor e espalhadas aleatoriamente no tabuleiro. A rede neural construída tenta resolver o seguinte questionamento: se é possível realizar o movimento do Rei para a casa $c2$. O movimento será considerado legal, se ao fim dele, o Rei permanecer vivo e assim esperar um nova rodada, e é considerado ilegal caso exista alguma peça que possa finalizar o jogo, se o Rei tentar ir para a posição desejada. Utilizando como base o problema acima, serão feitos alguns testes com um domínio teórico possuindo erros para investigar os tipos de correções em que o KBANN é eficaz.

As perturbações na teoria do domínio foram feitas de 4 (quatro) maneiras diferentes: (a) adicionando um antecedente a uma regra, (b) removendo um antecedente de uma regra, (c) adicionando uma regra, ou (d) removendo uma regra. Essas perturbações foram feitas de forma aleatória, desde que não implicasse na retirada de alguma conclusão final. 

O objetivo desses testes foi mostrar que a rede com conhecimento incompleto pode sofrer modificações na sua topologia para se ajustar aos novos aprendizados adquiridos no seu domínio inicial.

\begin{figure}[H] 
	\begin{center}
		\caption{Subconjunto 4x5 de um tabuleiro de xadrez considerado para o domínio}
		\includegraphics[scale=0.5]{imagens/xadrez.png}
		\label{fig:xadrez}
		\centerline{Fonte: Autor, 2017}
	\end{center} 
\end{figure}

\subsection{Formatação dos dados}

As seguintes regras formatadas (Figura \ref{fig:xadrezRegras}) definem as configurações do tabuleiro de xadrez, para um tabuleiro 4x5 (Figura \ref{fig:xadrez}), onde mover um Rei para uma posição à frente é ilegal (isto é, o Rei estaria sob cheque). A formatação das regras facilita a aplicação do algoritmo de conversão por terem sua reestruturação segundo a arquitetura de uma RNA, com uma camada de entrada, duas internas e uma de saída. 

\begin{figure}[H] 
	\begin{center}
		\caption{Conjunto de regras do Xadrez}
		\includegraphics[scale=0.5]{imagens/regrasXadrez.png}
		\label{fig:xadrezRegras}
		\centerline{Fonte: Autor, 2017}
	\end{center} 
\end{figure}

As entradas necessárias para cada posição no tabuleiro são: um para os quatro tipos de peças (uma rainha, uma Torre, um Bispo e um Cavalo), e um que indica a cor da peça. As formas de realizar cheques podem ser definidos de três formas: (1) na verificação de cheque diagonal pela Rainha ou do Bispo, (2) na verificação cheque horizontal ou vertical por uma Rainha ou pela Torre, e (3) na verificação cheque por um Cavalo. Algumas regras exigem um espaço vazio entre a posição de uma peça e a posição $c2$ (onde o jogador quer mover o Rei). Por exemplo, se uma rainha da cor oposta estiver na posição $c4$, então o espaço $c3$ deve estar vazio para poder colocar o Rei sob cheque.

Os antecedentes da regra representam o primeiro nível da rede, onde estão a posição das peças e suas respectiva cor. Cada agrupamento de dados pode ser visto como uma única entrada, contendo todos os dados necessários. As entradas de cada exemplo do arquivo foram guardadas em grupos de quatro entradas binárias, correspondendo as peças: Rainha,  Bispo, Cavalo e Torre e outras 2 entradas correspondentes a cor e a espaços vazios. A quantidade de entradas para a rede foram: 12 valores para a Rainha, 6 para o Bispo, 6 para o Cavalo, 6 para a Torre, 18 para cor oposta e 5 para casas vazias, totalizando 53 entradas binárias. Um exemplo para parte da entrada de dados com relação a primeira regra da Figura \ref{fig:xadrezRegras}:

CHEQUE \textunderscore DIAGONAL :- (1, 0, 1 , 0).

Isso significa que: existe uma Rainha na posição A4 no tabuleiro, não há Bispo na posição A4, a cor da peça que se encontra na posição A4 (uma Rainha) é oposta ao Rei que irá sofrer o ataque e não há qualquer peça na posição B3 do tabuleiro. Quando esse tipo de entrada ocorrer, é considerado um cheque diagonal.

\begin{figure}[H] 
	\begin{center}
		\caption{Estrutura parcial da rede neural gerada para o problema do xadrez}
		\includegraphics[scale=0.5]{imagens/redeKbann.png}
		\label{fig:redeKbann}
		\centerline{Fonte: Autor, 2017}
	\end{center} 
\end{figure}

Alguns dos testes aplicados utilizaram uma RNA contendo quatro camadas (53 x 30 x 3 x 1), como pode ser exemplificado de maneira parcial na (Figura \ref{fig:redeKbann}). A distribuição dos neurônios sofreu variações durante os testes. O número de conexões entre a primeira e a segunda camada totalizou 1590 sinapses . O número de neurônios internos equivale ao número de regras constituídas diretamente por peças, conforme a Figura \ref{fig:xadrezRegras}. O resultado final é representado apenas por um neurônio na última camada (movimento ilegal ou não).
A Tabela \ref{tab:nomeclatura} descreve os neurônios que serão monitorados durante os testes.

\begin{table}[H]
	\centering
	\caption{Nomenclatura dos neurônios e sua representação na rede neural}
	\vspace{0.5cm}
	\label{tab:nomeclatura}
	\begin{tabular}{|l|l|l|l|}
		\hline
		Neurônio & Descrição 		 \\ \hline
		MI       & Movimento ilegal       \\ \hline
		CD       & Cheque diagonal       \\ \hline
		CP       & Cheque paralelo       \\ \hline
		CC       & Cheque cavalo       \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\subsection{Testes Realizados para o Reconhecimento de Movimentos}

Os quatros testes executados no trabalho inicial e detalhados no texto desta Subseção são: (1) Teste de Regras Adicionadas ao Domínio Teórico. (2) Antecedentes Adicionadas ao Domínio Teórico. (3) Regras Deletadas do Domínio Teórico. (4) Antecedentes Deletados do Domínio Teórico. Conforme essa sequência de testes, serão informados o objetivo, a descrição, os parâmetros utilizados, os resultados obtidos, assim como a avaliação, referente a cada teste. Na Tabela \ref{tab:nomeclatura} estão os principais neurônios que terão suas saídas monitoradas para os testes realizados acima.

Todos os testes tem como objetivo diminuir a quantidade de falso negativo (FN) ou falso positivo (FP) dos neurônios intermediários e de saída. O falso negativo significa que um neurônio não está ativado, mas o correto era estar ativado, enquanto o falso positvo segue o mesmo raciocínio de forma contrária.

Para todos os testes demonstrados abaixo, foi considerado um conjunto de dados com 10.000 amostras, sendo, 60\% para o treinamento, 20\% para validação e 20\% para teste. A taxa de aprendizagem considerada foi de 0.01 e com um número máximo de épocas de 10.000.

\subsection{Regras Adicionadas ao Domínio Teórico}

Para o caso de uma nova regra no domínio teórico, primeiro foi definido que o consequente dessa regra é o consequente de uma outra regra já existem no domínio teórico. Em seguida, são acrescentados de dois a quatro antecedentes, uma vez que o número de antecedentes de cada regra da base original e correta também variou de dois a quatro. 
\newline
\newline
\textbf{Objetivo:}  Verificar a frequência de acerto considerando que o domínio teórico apresentado à rede teve regras adicionadas (incorretas) ao KBANN, e compará-lo com o domínio teórico.
\newline
\newline
\textbf{Descrição:}  Iniciou-se pela definição de novas regras e devido a isso há uma mudança na topologia da RNA. As novas regras adicionadas a base inicial foram: a Rainha da mesma cor do Rei dependendo da sua posição é considerado um cheque paralelo, um bispo pode atacar o Rei mesmo tendo outra peça a sua frente, e por último, Torre da mesma cor do Rei e com peça a sua frente podendo realizar um ataque.  Devido as adições de regras, a rede ficou com um quantidade de nerônios (53 x 30 x 3 x 1) por camada. 
\newline
\newline
\textbf{Resultados:} A sequência de Tabelas (\ref{tab:teste1Falsos10} à \ref{tab:teste1Falsos50}) e a Figura \ref{fig:regrasAdicionadas} resumem os resultados obtidos no primeiro teste.

\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, ao se adicionar 10\% novas regras}
	\vspace{0.5cm}
	\label{tab:teste1Falsos10}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{10\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 0          & 1          & 0          & 0          & 0          & 0          & 0          & 0          \\ \hline
		Domínio Teórico                                                                         & 68          & 92          & 22          & 38          & 21          & 80          & 23          & 57          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}



\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, ao se adicionar 20\% novas regras}
	\vspace{0.5cm}
	\label{tab:teste1Falsos20}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
			& \multicolumn{8}{c|}{20\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 1          & 0          & 1          & 0          & 0          & 0          & 0          & 0          \\ \hline
		Domínio Teórico                                                                         & 85          & 105          & 26          & 42          & 28          & 89          & 31          & 51          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, ao se adicionar 30\% novas regras}
	\vspace{0.5cm}
	\label{tab:teste1Falsos30}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{30\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 1          & 0          & 1          & 0          & 0          & 1          & 0          & 0          \\ \hline
	Domínio Teórico                                                                         & 110          & 150          & 49          & 62          & 45          & 78          & 16          & 42          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}

\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, ao se adicionar 40\% novas regras}
	\vspace{0.5cm}
	\label{tab:teste1Falsos40}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{40\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 1          & 0          & 1          & 0          & 0          & 1          & 0          & 0          \\ \hline
	Domínio Teórico                                                                         & 134          & 146          & 26          & 78          & 45          & 81          & 63          & 45          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, ao se adicionar 50\% novas regras}
	\vspace{0.5cm}
	\label{tab:teste1Falsos50}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{50\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 1          & 0          & 2          & 0          & 1          & 1          & 0          & 2          \\ \hline
	Domínio Teórico                                                                         & 167          & 133          & 68          & 78          & 52          & 90          & 56          & 74          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}
 \vspace{0.5em}
\noindent
\textbf{Avaliação:} Nesse teste, pode-ser observar que a rede KBANN já possui uma boa habilidade de classificação de dados, mesmo acrescentando regras iniciais incorretas ao seu domínio teórico. Por outro lado, já era esperado um aumento no erro na classificação dos dados pelo domínio teórico.

\begin{figure}[H] 
	\begin{center}
		\caption{Erro de Classificação entre KBANN x Domínio Teórico com Regras Adicionadas}
		\includegraphics[scale=0.5]{imagens/regrasAdicionadas.png}
		\label{fig:regrasAdicionadas}
	\end{center} 
\end{figure}
 \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}

\subsection{Antecedentes Adicionadas ao Domínio Teórico}

O teste de adição de antecedentes existentes no domínio teórico a outras conclusões intermediárias que não estavam fortemente ligadas inicialmente, também é uma boa forma de testar a capacidade do KBANN. Foram escolhidos aleatoriamente e adicionados a regras do domínio, desde que, não ultrapassasse 4 antecedentes por regra.
\newline
\newline
\textbf{Objetivo:}  Na segunda forma de avaliação do programa desenvolvido, foram atribuídos de forma aleatória antecedentes à regras já estabelecidas no domínio completo, verificando se a rede KBANN precisa de algum tipo de ajuste e compará-lo com o domínio teórico.
\newline
\newline
\textbf{Descrição:} Para esse teste as entradas já conhecidas foram conectadas a outras conclusões intermediárias de forma proporcional. Exemplificando, 10\% das entradas ou, 5 entradas já existentes foram conectadas a outras conclusões intermediárias de forma a perturbar o domínio original. outros testes com, 20\% a 50\% também foram realizados.
\newline 
\newline
\textbf{Resultados:} A sequência de Tabelas (\ref{tab:teste2Falsos10} à \ref{tab:teste2Falsos50}) e a Figura \ref{fig:retiradaAntecedentes} resumem os resultados obtidos no segundo teste.

\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando adicionado 10\% novos antecedentes às regras}
	\vspace{0.5cm}
	\label{tab:teste2Falsos10}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{10\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 2          & 2          & 1          & 3          & 1          & 2          & 0          & 2          \\ \hline
		Domínio Teórico                                                                         & 28          & 32          & 12          & 22          & 9          & 27          & 7          & 20          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando adicionado 20\% novos antecedentes às regras}
	\vspace{0.5cm}
	\label{tab:teste2Falsos20}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{20\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 39          & 31          & 22          & 14          & 15          & 17          & 2          & 13          \\ \hline
		Domínio Teórico                                                                         & 45          & 55          & 15          & 22          & 20          & 36          & 10          & 32          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando adicionado 30\% novos antecedentes às regras}
	\vspace{0.5cm}
	\label{tab:teste2Falsos30}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{30\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 60          & 30          & 22          & 17          & 18          & 22          & 20          & 32          \\ \hline
		Domínio Teórico                                                                         & 85          & 88          & 13          & 35          & 39          & 47          & 33          & 57          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando adicionado 40\% novos antecedentes às regras}
	\vspace{0.5cm}
	\label{tab:teste2Falsos40}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{40\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 32          & 29          & 47          & 31          & 34          & 47          & 26          & 46          \\ \hline
		Domínio Teórico                                                                         & 111          & 89          & 52          & 74          & 26          & 45          & 23          & 47          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando adicionado 50\% novos antecedentes às regras}
	\vspace{0.5cm}
	\label{tab:teste2Falsos50}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{50\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 45          & 12          & 65          & 87          & 75          & 40          & 61          & 87          \\ \hline
		Domínio Teórico                                                                         & 95          & 165          & 19          & 84          & 40          & 78          & 36          & 60          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}
\vspace{0.5em}
\noindent
\textbf{Avaliação:} Para o caso de antecedentes adicionados a regras corretas, percebe-se uma pequena taxa de erro em relação a adição de novas regras. Isso se deve ao fato que alguns antecedentes a mais, pode gerar certas implicações que não deveriam ocorrer. O KBANN teve uma taxa de erro um pouco maior que 5\% dado um conjunto de testes com 2.000 amostras, enquanto o domínio teórico obteve um taxa de erro de classificação de aproximadamente 15\%.

\begin{figure}[H] 
	\begin{center}
		\caption{Erro de Classificação entre KBANN x Domínio Teórico com Antecedentes Adicionados}
		\includegraphics[scale=0.5]{imagens/antecentesAdicionados.png}
		\label{fig:retiradaAntecedentes}
	\end{center} 
\end{figure} 
  \vspace{-1.5em}
\centerline{Fonte: Autor, 2017}
\newpage
\subsection{Regras Removidas do Domínio Teórico}

Para esse teste, todas as regras removidas seguiram a condição de não excluir permanentemente uma conclusão intermediária ou final da rede. A exclusão se deu de forma aleatória.
\newline
\newline
\textbf{Objetivo:} Realizar uma comparação entre uma rede neural padrão, a rede KBANN e o TopGen quando o domínio teórico sofre a perturbação com a exclusão de regras.
\newline 
\newline
\textbf{Descrição:} A retirada das regras para esse teste foi realizada de forma aleatória, obedecendo apenas a condição de não remover uma conclusão intermediária ou final do problema. Sendo assim, pelo menos uma regra deve existir para os neurônios CD, CP, CC e MI. Esse teste foi executado apenas uma vez devido a quantidade de redes geradas.
\newline 
\newline
\textbf{Resultados:} A sequência de Tabelas (\ref{tab:teste3Falsos10} à \ref{tab:teste3Falsos50}) e a Figura \ref{fig:regrasDeletadas} resumem os resultados obtidos no terceiro teste.

\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 10\% da regras}
	\vspace{0.5cm}
	\label{tab:teste3Falsos10}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{10\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 18          & 22          & 9          & 32          & 7          & 22          & 2          & 9          \\ \hline
		TopGen                                                                         & 12          & 9          & 5          & 7          & 3          & 12          & 4          & 15          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 20\% da regras}
	\vspace{0.5cm}
	\label{tab:teste3Falsos20}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{20\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 16          & 30          & 5          & 9          & 10          & 18          & 1          & 12          \\ \hline
	TopGen                                                                         & 15          & 7          & 5          & 9          & 9          & 11          & 1          & 7          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 30\% da regras}
	\vspace{0.5cm}
	\label{tab:teste3Falsos30}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{30\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 25          & 62          & 15          & 42          & 9          & 48          & 1          & 12          \\ \hline
	TopGen                                                                         & 9          & 31          & 0          & 3          & 15          & 12          & 6          & 11          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 40\% da regras}
	\vspace{0.5cm}
	\label{tab:teste3Falsos40}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{40\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 56          & 64          & 38          & 12          & 3          & 45          & 15          & 47          \\ \hline
	TopGen                                                                         & 12          & 30          & 2          & 6          & 5          & 15          & 5          & 9          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}

\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 50\% da regras}
	\vspace{0.5cm}
	\label{tab:teste3Falsos50}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{50\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 102          & 68          & 12          & 51          & 21          & 39          & 49          & 21          \\ \hline
	TopGen                                                                         & 75          & 56          & 28          & 27          & 12          & 12          & 35          & 35          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}
\vspace{0.5em}

\begin{figure}[H] 
	\begin{center}
		\caption{Erro de Classificação entre KBANN e TopGen com a Exclusão de Regras}
		\vspace{0.5em}
		\includegraphics[scale=0.5]{imagens/regrasDeletadas.png}
		\label{fig:regrasDeletadas}
	\end{center} 
\end{figure}
\vspace{-1.2em}
\centerline{Fonte: Autor, 2017}
\vspace{0.5em}
\noindent
\textbf{Avaliação:} Pode-se observar que a rede KBANN já não consegue desempenhar um bom papel quando retiradas regras do domínio inicial. Nesse teste, a quantidade de erros nos neurônios de conclusões intermediárias e conclusão final apresentaram taxas elevadas de falsos positivos e negativos, portanto houve a necessidade de aplicar o TopGen com intuito de adicionar novos neurônios a rede e diminuir tais erros. Como pode ser observado, o TopGen, gerou resultados interessantes diminuindo consideravelmente o erro em cada neurônio. No neurônio MI, o TopGen obteve uma diminuição de 43\% nas classificações de falsos positivos, em contra partida, o neurônio CD obteve um leve aumento na sua taxa de erro de falsos positivos.

\subsection{Antecedentes Deletados do Domínio Teórico}

No último teste, os antecedentes das regras também foram retirados de forma aleatória. Mesmo não possuindo nenhuma ligação com algum consequente no domínio teórico a ser testado, todos os neurônios permaneceram na topologia inicial da rede.
\newline
\newline
\textbf{Objetivo:} Realizar uma comparação entre uma rede neural padrão, a rede KBANN e o TopGen quando o domínio teórico sofre a perturbação com a exclusão de antecedentes nas regras.
\newline \newline
\textbf{Descrição:} A retirada dos antecedentes para esse teste, foi realizada de forma aleatória, mas obedecendo a condição que um nerônio intermediário não pode ficar sem nenhuma ligação ativa com neurônios da camada anterior. Como as regras normalmente tem entre 2 a 4 antecedentes, foi mantido pelo menos metade dos antecedentes que a regra possuía originalmente.
\newline 
\newline
\textbf{Resultados:}  A sequência de Tabelas (\ref{tab:teste4Falsos10} à \ref{tab:teste4Falsos50}) e Figura \ref{fig:antecedenteDeletados} resumem os resultados obtidos no último teste.

\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 10\% dos antecedentes das regras}
	\vspace{0.5cm}
	\label{tab:teste4Falsos10}
\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
	\hline
	\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
	& \multicolumn{8}{c|}{10\%}                                                                             \\ \hline
	& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
	KBANN                                                                          & 38          & 22          & 12          & 8          & 15          & 8          & 11          & 15          \\ \hline
	TopGen                                                                          & 17          & 13          & 4          & 14          & 11          & 5          & 7          & 10          \\ \hline
\end{tabular}
\end{table}
  \vspace{-1.6em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 20\% dos antecedentes das regras}
	\vspace{0.5cm}
	\label{tab:teste4Falsos20}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{20\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 70          & 30          & 20          & 45          & 15          & 28          & 35          & 9          \\ \hline
		TopGen                                                                         & 40          & 20          & 9          & 35          & 2          & 24          & 3          & 19          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 30\% dos antecedentes das regras}
	\vspace{0.5cm}
	\label{tab:teste4Falsos30}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{30\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 78          & 72          & 20          & 30          & 16          & 41          & 42          & 35          \\ \hline
		TopGen                                                                         & 45          & 55          & 10          & 35          & 8          & 39          & 27          & 9          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 40\% dos antecedentes das regras}
	\vspace{0.5cm}
	\label{tab:teste4Falsos40}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{40\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 115          & 85          & 39          & 48          & 49          & 48          & 27          & 82          \\ \hline
		TopGen                                                                         & 73          & 27          & 56          & 55          & 7          & 31          & 10          & 36          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}


\begin{table}[H]
	\centering
	\caption{Falsos positivos e negativos dos neurônios, quando retirado 50\% dos antecedentes das regras}
	\vspace{0.5cm}
	\label{tab:teste4Falsos50}
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
		\hline
		\multirow{2}{*}{\begin{tabular}[c]{@{}c@{}}Neurônios\\ / Técnica\end{tabular}} & \multicolumn{2}{c|}{MI} & \multicolumn{2}{c|}{CD} & \multicolumn{2}{c|}{CP} & \multicolumn{2}{c|}{CC} \\ \cline{2-9} 
		& \multicolumn{8}{c|}{50\%}                                                                             \\ \hline
		& FP         & FN         & FP         & FN         & FP         & FN         & FP         & FN         \\ \hline
		KBANN                                                                          & 162          & 98          & 62          & 55         & 36          & 45          & 54          & 59          \\ \hline
		TopGen                                                                         & 74          & 56          & 22          & 52          & 29          & 69          & 23          & 38          \\ \hline
	\end{tabular}
\end{table}
  \vspace{-1.2em}
\centerline{Fonte: Autor, 2017}

\begin{figure}[H] 
	\begin{center}
		\caption{Erro de Classificação entre KBANN e TopGen com a Exclusão de Antecedentes}
		\includegraphics[scale=0.5]{imagens/antecedenteDeletados.png}
		\label{fig:antecedenteDeletados}
	\end{center} 
\end{figure}
\vspace{-1.2em}
\centerline{Fonte: Autor, 2017}
\vspace{0.5em}
\noindent
\textbf{Avaliação:}  Da mesma forma que aconteceu no caso anterior, o KBANN obteve um crescente erro em sua classificação de um movimento ilegal no xadrez. A remoção de antecedentes apresentou uma influência maior que a remoção de uma regra completa em ambos os algoritmos. A retirada de antecedentes permitiu que neurônios sejam ativados devido a um pequeno conjunto de conjunções existentes nas regras, ou seja, enquanto anteriormente eram necessários ter até 4 condições verdadeiras para ativar um neurônio, nesse momento, a ativação de apenas um neurônio de uma conclusão intermediária promoveu uma classificação errada.