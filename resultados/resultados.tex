\mychapter{Resultados e discussão}
\label{Cap_5}

\subsection{Contextualização  do Problema}

Para a realização desse trabalho, um dos grande objetivos foi ter um problema onde houvesse um especialista no assunto que pudesse conceber um conjunto inicial de regras para servir de base de aprendizado para a rede neural KBANN. Devido a dificuldade em encontrar um especialista que solucionasse essa condição inicial e essencial do trabalho, a forma encontrada para contornar esse problema, foi utilizado um jogo de tabuleiro onde se sabe como esse modelo é regido. 

O xadrez é um jogo de tabuleiro com 64 casas brancas e pretas intercaladas e com diversas peças que representavam tropas do exército: infantaria, cavalaria, bispos, torres, rainha, e o principal de todos, o Rei. O problema em questão foi tratado da seguinte maneira : dado um tabuleiro 5x4 (ver Figura \ref{fig:xadrez}) considerando que o Rei (branco) está sempre na posição ($c1$), acompanhando de outras peças (Rainha, Bispo, Cavalo e Torre), tanto da cor oposta ao Rei, como da mesma cor e espalhadas aleatóriamente no tabuleiro. A rede neural construída tenta resolver o seguinte questionamento: é possível realizar o movimento do Rei para a casa $c2$.? O movimento será considerado legal, se ao fim dele, o Rei permanecer vivo e assim esperar um nova rodada, e é considerado ilegal caso exista alguma peça que possa finalizar com o jogo se o Rei tentar ir para a posição desejada. Utilizando como base o problema acima, serão feitos alguns testes com um domínio teórico possuindo erros para investigar os tipos de correções em que o KBANN é eficaz.

As pertubações na teoria do domínio foram feitas de quatro maneiras diferentes: (a) adicionando um antecedente a uma regra, (b) removendo um antecedente de uma regra, (c) adicionando umaa regra, ou (d) removendo uma regra. Essas pertubações foram feitas de forma aleatória, desde que não implicasse na retirada de alguma conclusão final. 

O objetivo desses testes é mostrar que a rede com conhecimento incompleto pode sofrer modificações na sua topologia para se ajustar aos novos aprendizados adquiridos no seu domínio inicial.

\begin{figure}[H] 
	\begin{center}
		\caption{Sub-conjunto 4x5 de um tabuleiro de xadrez considerado para o domínio. O Rei está atualmente em posicão $c1$, e será movido para a posição $c2$ se este for um movimento legal. Esse movimento é ilegal se o Rei estaria em cheque na posição $c2$.}
		\includegraphics[scale=0.5]{imagens/xadrez.png}
		\label{fig:xadrez}
	\end{center} 
\end{figure}

\subsection{Formatação dos dados}

As seguintes regras formatadas (\ref{fig:xadrezRegras} ) definem as configurações do tabuleiro de xadrez, para um tabuleiro 4x5 (veja a Figura \ref{fig:xadrez}), onde mover um Rei para uma "casa" a a frente é ilegal (isto é, o Rei estaria sob cheque). A formatação das regras facilita a aplicação do algoritmo de conversão por terem sua reestruturação segundo a arquitetura de uma RNA, com uma camada de entrada, duas internas e uma de saída. 

\begin{figure}[H] 
	\begin{center}
		\caption{Conjunto de regras do Xadrez.}
		\includegraphics[scale=0.5]{imagens/regrasXadrez.png}
		\label{fig:xadrezRegras}
	\end{center} 
\end{figure}

As entradas necessária para cada posição no tabuleiro são: um para os quatro tipos de peças (uma rainha, uma torre, um bispo e um cavaleiro), e um que indica a cor da peça. As réguas são divididas em três partes: (1) na verificação de cheque diagonal pela rainha ou do bispo, (2) na verificação cheque horizontal ou vertical por uma rainha ou pela torre, e (3) na verificação cheque por um cavalo. Algumas regras exigem um espaço vazio entre a posição de uma peça e a posição $c2$ (onde o jogador quer mover o Rei). Por exemplo, se uma rainha da cor oposta estiver na posição $c4$, então o espaço $c3$ deve estar vazio para poder pôr o Rei sob cheque.


TABELA

Os antecedentes da regra representam o primeiro nível da rede, onde estão a posição das peças e suas respectiva cor. Nele cada agrupamento pode ser visto como uma única entrada, contendo todos os dados necessários. As entradas de cada exemplo do arquivo foram guaradas em grupos de quatro entradas binárias, correspondendo as peças "Rainha,  Bispo, Cavalo e Torre" e outras 2 entradas correspondentes a cor e a espaços vazios. As seguintes quantidades de entradas foram: 12 para a Rainha, 6 para o Bispo, 6 para o Cavalo, 6 para a Torre, 18 para cor oposta e 5 para casas vazias, totalizando 53 entradas binárias. A multiplicação do conjunto de exemplos (100 exemplos) pelo número de entradas binárias gerou matriz de entrada de dados para a RNA.

FIGURA

Alguns dos testes aplicados utilizaram a RNA contendo três camadas (53xXXx1) (ver Figura X), mas essa distribuição dos neurônios variou durante os testes. O número de conexões entre a primeira e a segunda camada totalizou XX sinapses . O número de neurônios internos XX  equivale ao número de regras constituídas diretamente por peças, conforme a Tabela XX. As conexões entre a camada interna e a camada de saída são 18, visto que o resultado  nal é representado apenas por um neurônio na última camada (ilegal ou não).
A Tabela XX descreve os parâmetros mais importantes utilizados durante os testes.

\begin{table}[h]
	\centering
	\caption{Regras que regem o domínio do jogo.}
	\vspace{0.5cm}
	\label{tab:regras}
	\begin{tabular}{|l|l|l|l|}
		\hline
		Consequente & Antecedentes 		 \\ \hline
		Movimento Ilegal       & Cheque diagonal      \\ \hline
		Movimento Ilegal        & Cheque paralelo       \\ \hline
		Movimento Ilegal        & Cheque cavalo       \\ \hline
		Cheque diagonal       & Cheque cavalo       \\ \hline
	\end{tabular}
\end{table}

\begin{table}[h]
	\centering
	\caption{Nomeclatura dos neurônios e sua representação na rede neural.}
	\vspace{0.5cm}
	\label{tab:nomeclatura}
	\begin{tabular}{|l|l|l|l|}
		\hline
		Neurônio & Descrição 		 \\ \hline
		MI       & Movimento ilegal       \\ \hline
		CD       & Cheque diagonal       \\ \hline
    	CP       & Cheque paralelo       \\ \hline
		CC       & Cheque cavalo       \\ \hline
	\end{tabular}
\end{table}

\subsection{Testes realizados para o reconhecimento de movimentos ilegais}

Os quatros testes executados no trabalho inicial e detalhados no texto desta Subseção são: (1) Teste de Regras Adicionadas ao Domínio Teórico. (2) Antecedentes Adicionadas ao Domínio Teórico. (3) Regras Deletadas do Domínio Teórico. (4) Antecedentes Deletados do Domínio Teórico. Conforme essa sequência de testes, serão informados o objetivo, a descrição, os parâmetros utilizados, os resultados obtidos, assim como a avaliação, referente a cada teste.

\subsubsection{Regras Adicionadas ao Domínio Teórico}

Para o caso de uma nova regra no domínio teórico, primeiro foi definido que o conseguente dessa regra é o consequente da uma outra regra já existen no domínio teórico. Em seguida, são acrescentados de dois a quatro antecedentes, uma vez que o número de antecedentes de cada regra da base original e correta também variou de dois a quatro.
\newline
\newline
\textbf{Objetivo :}  Verificar a frequência de acerto considerando que o domínio teórico apresentado à rede teve regras adicionadas (erradas) ao KBANN e compará-lo com o domínio teórico.
\newline
\newline
\textbf{Descrição:}  Iniciou-se pela definição de novas regras e devido a isso há uma mudança na toptologia da RNA. As novas regras adicionadas a base inicial foram : a Rainha da mesma cor do Rei dependendo da sua posicão é considerado um cheque paralelo, um bispo pode atacar o Rei mesmo tendo outra peça a sua frente e por último, Torre da mesma cor do Rei e com peça a sua frente podendo realizar um ataque.  Devido as adições de regras, a rede ficou com um quatidade de nerônios (53 x XX x 1) por camada. 
\newline
\newline
\textbf{Resultados:} A Tabela X resume os resultados obtidos no primeiro teste.

\begin{table}[h]
	\centering
	\caption{Correspondências entre bases de conhecimento e redes neurais.}
	\vspace{0.5cm}
	\label{tab:parametros1}
	\begin{tabular}{|l|l|l|l|}
		\hline
		Técnica & Quantidade de testes & Média de acertos & Desvio padrão \\ \hline
		Domínio teórico       & 3                   & 85\%                & ~             \\ \hline
		KBANN       & 3                    & 99,9\%                & ~             \\ \hline
	\end{tabular}
\end{table}

\begin{table}[h]
	\centering
	\caption{Teste 1 : Falsos positivos e negativos dos neurônios.}
	\vspace{0.5cm}
	\label{tab:teste1Falsos}
	\begin{tabular}{|l|l|l|}
		\hline
	Neurônio & Falsos positivos & Falsos negativos \\ \hline
	MI       	& 0                 		   	& 0                          \\ \hline
	CD      	& 1                    			& 0                            \\ \hline
	CP       	& 0                    			& 0                           \\ \hline
	CC       	& 0                    			& 0                           \\ \hline
	\end{tabular}
\end{table}

\textbf{Avaliação:} Nesse teste, pode-ser observar que a rede KBANN já possui uma excelente habilidade de classificação de dados, mesmo acrescentando regras iniciais incorretas ao seu domínio teórico. Por outro lado, pode-se um já esperado aumento no erro na classificação dos dados pelo domínio teórico.

\subsubsection{Antecedentes Adicionadas ao Domínio Teórico}

\textbf{Objetivo :}  Na segunda forma de avaliação do programa desenvolvido, foi atribuidos de forma aletória antecedentes a regras já estabelecidas no domínio completo, verificando se a rede KBANN precisa de algum tipo de ajuste e compará-lo com o domínio teórico.
\newline 
\newline
\textbf{Descrição:} Para esse teste as entradas já conhecidas foram conectadas a outras conlusões intemediárias de forma proporcional. Exemplificando, 5\% das entradas ou, 3 entradas já existentes foram conectadas a outras conclusões intermediárias de forma a pertubar o domínio original. As outros testes com, 15\% e 25\% também foram realizados.
\newline 
\newline
\textbf{Resultados:}  A Tabela X resume os resultados obtidos no segundo teste.

\begin{table}[h]
	\centering
	\caption{Correspondências entre bases de conhecimento e redes neurais.}
	\vspace{0.5cm}
	\label{tab:parametros2}
	\begin{tabular}{|l|l|l|l|}
		\hline
		Técnica & Quantidade de testes & Média de acertos & Desvio padrão \\ \hline
		~       & ~                    & ~                & ~             \\ \hline
		~       & ~                    & ~                & ~             \\ \hline
		~       & ~                    & ~                & ~             \\ \hline
	\end{tabular}
\end{table}

\begin{figure}[H] 
	\begin{center}
		\caption{Porcetagem de acerto x }
		\includegraphics[scale=0.5]{imagens/antecentesRetirados.png}
		\label{fig:retiradaAntecedentes}
	\end{center} 
\end{figure}

\begin{table}[h]
	\centering
	\caption{Teste 2 : Falsos positivos e negativos dos neurônios na rede KBANN.}
	\vspace{0.5cm}
	\label{tab:teste2Falsos}
	\begin{tabular}{|l|l|l|}
		\hline
		Neurônio & Falsos positivos & Falsos negativos \\ \hline
		MI       	& 0                 		   	& 1                          \\ \hline
		CD      	& 1                    			& 1                            \\ \hline
		CP       	& 1                    			& 1                           \\ \hline
		CC       	& 1                    			& 2                           \\ \hline
	\end{tabular}
\end{table}

\begin{table}[h]
	\centering
	\caption{Teste 2 : Falsos positivos e negativos dos neurônios na nova rede.}
	\vspace{0.5cm}
	\label{tab:teste2_1Falsos}
	\begin{tabular}{|l|l|l|}
		\hline
		Neurônio & Falsos positivos & Falsos negativos \\ \hline
		MI       	& ~                 		   	& ~                          \\ \hline
		CD      	& ~                    			& ~                            \\ \hline
		CP       	& ~                    			& ~                           \\ \hline
		CC       	& ~                    			& ~                           \\ \hline
	\end{tabular}
\end{table}

\textbf{Avaliação:} sdadsada

\subsubsection{Regras Deletadas do Domínio Teórico}

\textbf{Objetivo :}  Realizar uma comparação entre uma rede neural padrão, a rede KBANN e o TopGen quando o domínio teórico sofre a pertubação de perda de regras.
\newline 
\newline
\textbf{Descrição:}  Esse teste foi realizado 3 vezes utilizando cada técnica para gerar o gráfico da taxa de acerto x quantidade de regras deletadas.
\newline 
\newline
\textbf{Resultados:} A Tabela \ref{tab:parametros3} e a Figura \ref{fig:regrasDeletadas} resume os resultados obtidos no terceiro teste.

\begin{figure}[H] 
	\begin{center}
		\caption{Porcetagem de acerto x }
		\includegraphics[scale=0.5]{imagens/regrasDeletadas.png}
		\label{fig:regrasDeletadas}
	\end{center} 
\end{figure}


\begin{table}[h]
	\centering
	\caption{Correspondências entre bases de conhecimento e redes neurais.}
	\vspace{0.5cm}
	\label{tab:parametros3}
	\begin{tabular}{|l|l|l|l|}
		\hline
		Técnica & Quantidade de testes & Média de acertos & Desvio padrão \\ \hline
		~       & ~                    & ~                & ~             \\ \hline
		~       & ~                    & ~                & ~             \\ \hline
		~       & ~                    & ~                & ~             \\ \hline
	\end{tabular}
\end{table}

\begin{table}[h]
	\centering
	\caption{Teste 3 : Falsos positivos e negativos dos neurônios.}
	\vspace{0.5cm}
	\label{tab:teste3Falsos}
	\begin{tabular}{|l|l|l|}
		\hline
		Neurônio & Falsos positivos & Falsos negativos \\ \hline
		~       	& ~                 		   	& ~                          \\ \hline
		~       	& ~                    			& ~                            \\ \hline
		~       	& ~                    			& ~                           \\ \hline
	\end{tabular}
\end{table}

\textbf{Avaliação:} Pode-se observar que a rede KBANN já não consegue desempenhar um bom papel quando são retiradas regras do seu domínio. Em todos seus neurônios de conclusões intermediárias e conclusão final tiveram erros de falsos positivos e negativos, sendo assim, teve que ser necessário utilizar o TopGen para realizar um possivel aprendizado e adicioná-lo a rede neural. Como pode ser visto, o TopGen, gerou resultados bastante interessantes diminuindo consideravelmente o erro. Enquanto isso, a rede MLP gerou erros bem altos, na média de 17%.

\subsubsection{Antecedentes Deletados do Domínio Teórico}

\textbf{Objetivo :} asddada
\newline \newline
\textbf{Descrição:} dfsdfsdfsdds
\newline \newline
\textbf{Parâmetros:} sdsadasdasdsa


\textbf{Resultados:} A Tabela X resume os resultados obtidos no último teste.

\begin{figure}[H] 
	\begin{center}
		\caption{Porcetagem de acerto x }
		\includegraphics[scale=0.5]{imagens/antecedenteDeletados.png}
		\label{fig:antecedenteDeletados}
	\end{center} 
\end{figure}

\begin{table}[h]
	\centering
	\caption{Correspondências entre bases de conhecimento e redes neurais.}
	\vspace{0.5cm}
	\label{tab:parametros4}
    \begin{tabular}{|l|l|l|l|}
	\hline
	Técnica & Quantidade de testes & Média de acertos & Desvio padrão \\ \hline
	~       & ~                    & ~                & ~             \\ \hline
	~       & ~                    & ~                & ~             \\ \hline
	~       & ~                    & ~                & ~             \\ \hline
\end{tabular}
\end{table}

\begin{table}[h]
	\centering
	\caption{Teste 4 : Falsos positivos e negativos dos neurônios.}
	\vspace{0.5cm}
	\label{tab:teste4Falsos}
	\begin{tabular}{|l|l|l|}
		\hline
		Neurônio & Falsos positivos & Falsos negativos \\ \hline
		~       	& ~                 		   	& ~                          \\ \hline
		~       	& ~                    			& ~                            \\ \hline
		~       	& ~                    			& ~                           \\ \hline
	\end{tabular}
\end{table}


\textbf{Avaliação:}

A RNA treinada por retropropagac?a?o e validada obteve, em me?dia, um percentual de acertos de 83,33%. Enquanto que a RNA, gerada a partir do





